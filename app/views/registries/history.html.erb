<div class="grid-comp">
<%= render "layouts/headerDate" %>
<%= render "layouts/lateral" %>

    <div class="container-fluid main">

        <!-- Container simple -->
        <div class="container my-3">
            <h1>Historial</h1>
            <!-- Control de vistas-->
            <div class="d-flex flex-column" style="width: 200px">
                <button class="btn btn-warning my-2">Generar reporte PDF</button>
                <button class="btn btn-info my-2" onclick="graphic_hide()">Solo mostrar registros </button>
            </div>
            <!-- Control de vistas-->

            <!-- Control de filtros-->
            <div class="menu text-center mb-4">
                <div class="form-group">
                <label for="combobox">Registros a partir del periodo: </label>
                <select name="combobox" id="" class="form-control" onchange="another(this.value);">
                    <option value="week">semanal</option>
                    <option value="month">mensual</option>
                    <option value="semester">semestral</option>
                    <option value="year">anual</option>
                    <option value="0">otro</a></option>
                </select>
                </div>
                <input type="submit" value="Filtrar" class="btn btn-info">
            </div>

            <div class="menu text-center mb-4">
                <div class="form-group">
                    <label for="">Registros marcados en las fechas entre:</label>
                    <input type="datetime" name="" id="" class="form-control">
                    <label for="">hasta:</label>                
                    <input type="datetime" name="" id="" class="form-control">
                </div>
                <input type="submit" value="Filtrar" class="btn btn-info">            
            </div>
            <!-- Control de filtros-->

            <div id="container" class="hide-registry" style="border:1px solid gray; border-radius:10px; display:none">
                <% (0..50).each do |thing| %>
                <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Nisi, doloremque?</p>
                <% end %>
            </div>
        </div>
        <!-- Container simple -->
        
        <!-- table -->
        <div is="list" class="my-3 hide-registry tables-reg">
        <%= form_tag(history_registry_path, method: :get) do %>
        <div class="form-group his-form">
            <%= text_field_tag :teacher_id, params[:teacher_id], placeholder: "Introduce id de profesor", class: "form-control", autocomplete: "off", pattern: '\d+', title: 'Solo digitos, por favor'%>
            <%= submit_tag "Buscar", class: "btn btn-outline-info" %>
        </div>
        <% end %>

        <div class="my-3 hide-registry tables-reg">
            <table class="table table-striped table-hover table-sm table-responsive-md">
            <thead class="thead-dark">
                <tr>
                <th scope="col">#</th>
                <th scope="col">Profesor ID</th>
                <th scope="col">Profesor</th>
                <th scope="col">Salon</th>
                <th scope="col">Fecha</th>
                <th scope="col">Material</th>
                <th scope="col">Tiempo en uso</th>
                </tr>
            </thead>
            <tbody>

                <% for t in @registry %>
                    <tr>
                    <th scope="row"><%= t.id %></th>
                    <% n = t.teacher %>
                    <td><%= n.code %></td>                    
                    <td><%= "#{n.surnames} #{n.name}" %></td>
                    <td><%= t.classroom.name %> </td>
                    <td><%= t.created_at.strftime '%a, %d %b %Y, %I:%M %P' %></td>
                    <td><%= t.article.name %></td>
                    <td><%= get_service(t) %></td>
                    </tr>
                <% end %>

            </tbody>
            </table>
        </div>
        <!-- table -->


        <%= page_entries_info @registry, model: "Registros" %>
        <%= will_paginate @registry, renderer: WillPaginate::ActionView::BootstrapLinkRenderer %>
        </div>


    </div>

    <%= render 'layouts/footer' %>
</div>